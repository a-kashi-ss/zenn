---
title: "【初心者向け】AWS ECS"
emoji: "👩‍🍳"
type: "tech"
topics: ["aws","ecs","ecr","docker","初心者"]
published: true
published_at: 2025-12-1 05:00
publication_name: "secondselection"
---


# 【初心者向け】AWS ECSでコンテナを動かす！Fargateを使ってサーバーレスデプロイ入門

| **この記事を読むことで得られるメリット** |
| :--- |
| \* AWS ECSの基本的な概念（Fargate/EC2の違い、タスクとは何か）を**完全に理解**できます。 |
| \* **Fargate**を利用した**サーバーレス**なコンテナデプロイの具体的な手順が分かります。 |
| \* Kubernetesのような複雑な構成管理なしに、手軽にコンテナアプリケーションを本番環境で動かせるようになります。 |

## 1\. はじめに

株式会社セカンドセレクションの技術ブログへようこそ！私は、熟練した技術ブログ記事作成エキスパートとして、あなたの学習をサポートします。

[cite\_start]Dockerを使ってコンテナイメージを作成できるようになり、「次に、このコンテナをクラウドで動かしたい！」と考えている若手エンジニアの方は多いのではないでしょうか [cite: 41]。しかし、いざクラウドのドキュメントを開くと、「Kubernetes (K8s)」「EKS」「ECS」「Fargate」など、聞いたことのない専門用語が並び、導入に躊躇してしまうかもしれません。

この記事のターゲット読者であるあなたは、\*\*「複雑な設定は避けたい」「とにかく手軽にコンテナを動かす方法を知りたい」\*\*と考えているはずです。

ご安心ください。この記事では、AWSが提供するコンテナオーケストレーションサービスである **Amazon ECS（Elastic Container Service）** の中でも、**サーバーレス実行環境である Fargate** に焦点を当てて、基本概念の理解から、実際にアプリケーションをデプロイするまでの手順を「初心者向け」に徹底解説します。

読了後には、複雑なインフラ管理を意識することなく、あなたのコンテナアプリケーションをAWS上で動かせるようになっているでしょう。さあ、一緒にコンテナ運用の一歩を踏み出しましょう！

-----

## 2\. なぜ今、コンテナとAWS ECSなのか？

### コンテナ技術がもたらす開発効率の向上

[cite\_start]コンテナ技術、特に **Docker** は、アプリケーションを\*\*「実行環境ごとパッケージ化」\*\*する技術です。これにより、開発者のPC環境、テスト環境、そして本番環境の間で「環境差異」によるトラブルをほぼゼロにできます [cite: 20]。

**「私の環境では動いたのに、本番だと動かない！」**

[cite\_start]この開発者にとって永遠の悩みを解決してくれるのがコンテナです [cite: 20][cite\_start]。コンテナは、現代のソフトウェアエンジニアリングにおける基礎スキルとなりつつあります [cite: 16]。

### AWS ECSを選ぶ理由：K8sとの比較

コンテナを動かすためには、単にDockerを実行するだけでなく、**コンテナオーケストレーション**という管理システムが必要です。これは、コンテナの起動・停止、負荷に応じたスケール（増減）、ネットワーク設定などを自動的に行ってくれる仕組みです。

  * **Kubernetes (K8s)**：非常に多機能で強力ですが、その分学習コストが高く、設定が複雑になりがちです。
  * **AWS ECS (Elastic Container Service)**：AWSネイティブのコンテナオーケストレーションサービスです。AWSのサービス（VPC、IAMなど）とシームレスに連携し、**K8sに比べてシンプルで使いやすい**のが大きな特徴です。特に、AWSの知識がある方にとっては学習曲線が緩やかで、手軽にコンテナ運用を始めることができます。

[cite\_start]私たちは、複雑なK8sを導入するよりも、**シンプルさ、手軽さ、そしてAWSとの親和性**を重視して、ECSを主力コンテンツとして推奨します [cite: 56]。

-----

## 3\. AWS ECSの基本構成要素を理解する

ECSを理解する上で、いくつかの重要な概念があります。これらを把握すれば、ECSを使ったデプロイの全体像が見えてきます。

### ECSを構成する4つの重要要素

| 要素 | 役割 | アナロジー（例え） |
| :--- | :--- | :--- |
| **クラスター (Cluster)** | コンテナを動かすための**実行環境**の集合体。 | アプリケーションを実行する**工場全体**。 |
| **タスク定義 (Task Definition)** | どのコンテナイメージを、どれくらいのCPU/メモリで動かすか、といった**設計図**。 | 工場で作る製品の**設計書**（部品、電力など）。 |
| **タスク (Task)** | タスク定義に基づいて実際に**起動したコンテナのインスタンス**。 | 設計書に従って**実際に稼働している製品**。 |
| **サービス (Service)** | **タスクを常時、指定した数だけ動かし続ける**ための仕組み。異常停止時の復旧や負荷分散を管理します。 | 稼働中の製品の数を監視し、故障したら自動で修理する**現場監督**。 |

### 実行環境の選択：Fargate vs EC2、どっちを選ぶ？

ECSでは、コンテナを実行するための基盤を以下の2つのタイプから選択できます。

1.  **ECS on EC2**：
      * **あなたが** EC2インスタンス（仮想マシン）を構築・管理し、その上でコンテナを動かします。
      * OSのパッチ適用やキャパシティ管理（EC2の増減）など、**インフラの管理責任**が伴います。
2.  **ECS on Fargate**：
      * **AWSが** コンテナ実行に必要なインフラを**すべて自動で管理**してくれます。
      * あなたが管理するのは、**コンテナイメージとタスク定義（CPU/メモリの指定など）だけ**です。EC2インスタンス自体を意識する必要がありません。

初心者の方が手軽に始めるには、**サーバーレス**でインフラ管理から解放される **Fargate** が圧倒的におすすめです。この記事でもFargateを中心に解説を進めます。

-----

## 4\. ハンズオン：Fargateでコンテナをデプロイするステップ

ここでは、簡単なWebアプリケーションのコンテナをFargateを使ってデプロイする具体的な流れを解説します。

### Step 1: Dockerイメージの準備とECR（コンテナレジストリ）への登録

まず、ECSが利用できるように、あなたのコンテナイメージをAWSの専用レジストリに保存する必要があります。

#### ECR (Elastic Container Registry)の作成

ECRは、Docker Hubのようなコンテナイメージの保管場所です。

1.  AWSマネジメントコンソールでECRサービスを開き、「リポジトリを作成」します。
2.  リポジトリ名（例: `my-web-app`）を設定して作成します。

#### Dockerイメージのビルドとプッシュ

お手元の開発環境でDockerイメージをビルドし、先ほど作成したECRにプッシュします。

```bash
# ECRリポジトリの認証情報を取得
aws ecr get-login-password --region <リージョン名> | docker login --username AWS --password-stdin <アカウントID>.dkr.ecr.<リージョン名>.amazonaws.com

# イメージをビルド
docker build -t my-web-app .

# イメージにタグ付け
docker tag my-web-app:latest <アカウントID>.dkr.ecr.<リージョン名>.amazonaws.com/my-web-app:latest

# ECRへプッシュ
docker push <アカウントID>.dkr.ecr.<リージョン名>.amazonaws.com/my-web-app:latest
```

これで、あなたのコンテナイメージがECSからアクセス可能な状態になりました。

### Step 2: タスク定義の作成（コンテナ起動の設計図）

タスク定義は、\*\*「Fargateでコンテナを動かす際の設計図」\*\*です。

1.  ECSコンソールで「タスク定義」を開き、「新しいタスク定義を作成」を選択します。
2.  **インフラストラクチャの要件**として「AWS Fargate」を選択します。
3.  **タスクロール**などの設定を行います（ここではデフォルトでOK）。
4.  **タスクサイズ**として、必要なCPUとメモリ（例: CPU 0.5 vCPU、メモリ 1GB）を指定します。
5.  「コンテナの追加」で、以下の情報を設定します。
      * **コンテナ名**：任意
      * **イメージURI**：Step 1でプッシュしたECRのURIを設定
      * **ポートマッピング**：コンテナが公開するポート（例: Webアプリなら `80`）を設定

このタスク定義が、Fargateであなたのコンテナを起動するための指示書となります。

### Step 3: ECSクラスターとサービスの作成（コンテナの実行と維持）

いよいよ、タスクを実行し、アプリケーションとして公開します。

1.  ECSコンソールで「クラスター」を開き、「クラスターを作成」を選択します。
      * ネットワーキングとして、**VPC**と**サブネット**を指定します（既存のものでOK）。
2.  作成したクラスター内で「サービス」を作成します。
3.  **環境**として「AWS Fargate」を選択します。
4.  **デプロイ設定**として、以下の情報を設定します。
      * **タスク定義**：Step 2で作成したものを選択
      * **サービス名**：任意
      * **必要なタスク**：いくつコンテナを起動し続けたいか（例: 1）
5.  **ネットワーキング**で、**VPC**と**セキュリティグループ**を設定します。
      * セキュリティグループは、外部からのアクセスを許可するように設定が必要です。

「作成」を実行すると、ECSのサービスがタスク定義に基づいてFargateでコンテナを起動し、指定した数のタスクを維持し続けます。これにより、あなたのコンテナアプリケーションがクラウド上で動作し始めます。

-----

## 5\. ECS運用における次のステップとヒント

デプロイが成功したら、次はさらに安定して効率的に運用するためのステップです。

### ロードバランサー（ALB）との連携

インターネットからWebアプリケーションにアクセスするには、通常、\*\*ALB（Application Load Balancer）\*\*と連携させます。

サービス作成時にALBの設定を含めることで、ECSサービスが自動でALBのターゲットグループに登録され、トラフィックを分散してくれます。これにより、タスクがスケールした場合でも、自動的に負荷分散の対象となります。

### コスト最適化の考え方（Fargateの料金体系）

Fargateは、\*\*「コンテナが実行された時間」\*\*に基づいて料金が発生します。

  * **タスク定義で設定したCPUとメモリの使用量**と**実行時間**に比例します。
  * 使っていないときに自動で停止する機能（Auto Scaling）を適切に設定することで、**コストを最適化**できます。
  * K8sのようにEC2インスタンス自体を常時起動しておく必要がないため、**使った分だけ支払う**というサーバーレスのメリットを最大限に享受できます。

-----

## 6\. まとめ

この記事では、**複雑なKubernetesは使わず**、AWS ECSとFargateを使ってコンテナをクラウドで動かす方法を解説しました。

### この記事で学んだことの再確認

  * ECSはK8sよりもシンプルで、AWSネイティブなコンテナオーケストレーションサービスです。
  * Fargateを使うことで、EC2インスタンスの管理から解放される**サーバーレス**なコンテナ運用が可能です。
  * デプロイは、「**ECR（イメージの保管）**」「**タスク定義（設計図）**」「**サービス（実行・維持）**」の3つのステップで実現できます。

[cite\_start]貴社の技術ブログの分析レポート [cite: 56] [cite\_start]が示す通り、モダンな開発ツールに関する実践的で分かりやすい「初心者向けガイド」は、読者からの強い支持を得ています [cite: 44]。この記事が、あなたのコンテナ運用への一歩を力強く後押しできたなら幸いです。

### 次のアクション（読者が取るべきステップ）の提案

まずは、この記事を参考に、手元にあるDockerイメージを一つ**Fargateで動かしてみる**ことから始めてください。

[cite\_start]そして、デプロイが完了したら、以下の記事で解説されているように、**週次ふりかえり**や**チームへの知識共有** [cite: 30, 47] [cite\_start]を通じて、今回の学びを定着させてください。あなたが挑戦した「成長ストーリー」は、必ず他のエンジニアの役に立ちます [cite: 61]。

今後も、私たちのブログでは、**DevContainer**や**GitLab**といった開発プロセスを効率化するツールの「初心者向け」実践ガイドを定期的に公開していきます。

-----

### 参考記事のリンク

  * 『【超便利】DevContainerでサクッと開発環境を構築しよう！』
  * 『【初心者向け】めっちゃ簡単\!?GitLab マージリクエストの作り方』
  * 『週次ふりかえりをやってみた』